<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEON CASINO ‚Äî VIP EDITION</title>
    <style>
        :root {
            --gold: #ffd700;
            --neon-blue: #00d2ff;
            --neon-purple: #9d00ff;
            --neon-red: #ff4d4d;
            --neon-green: #39ff14;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: #020205; font-family: 'Segoe UI', sans-serif; color: white;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
            overflow-y: auto; overflow-x: hidden; padding-bottom: 50px;
        }

        /* --- UI –≠–õ–ï–ú–ï–ù–¢–´ --- */
        .balance-top { position: sticky; top: 0; display: flex; gap: 10px; z-index: 100; background: rgba(0,0,0,0.8); padding: 15px; width: 100%; justify-content: center; backdrop-filter: blur(10px); border-bottom: 1px solid #333; }
        .bal { background: #111; padding: 8px 15px; border-radius: 12px; border: 1px solid var(--gold); font-weight: 900; min-width: 100px; text-align: center; font-size: 14px; }

        /* --- –ù–ê–í–ò–ì–ê–¶–ò–Ø --- */
        .game-nav { 
            display: flex; gap: 8px; margin: 20px 0; background: #111; padding: 5px; border-radius: 15px; border: 1px solid #333; 
            width: 95%; max-width: 450px; justify-content: space-around;
        }
        .nav-btn { padding: 10px 12px; border-radius: 10px; border: none; background: transparent; color: #666; font-weight: 900; cursor: pointer; transition: 0.3s; font-size: 11px; flex: 1; text-align: center; }
        .nav-btn.active { background: var(--neon-blue); color: #000; box-shadow: 0 0 15px var(--neon-blue); }
        .btn-home { color: var(--neon-purple); border: 1px solid rgba(157, 0, 255, 0.3); }

        .section-title { margin: 10px 0 15px; text-transform: uppercase; letter-spacing: 2px; font-size: 18px; color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); }

        .game-section { display: none; flex-direction: column; align-items: center; width: 100%; animation: fadeIn 0.4s ease; }
        .game-section.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- –ö–û–õ–ï–°–û (–£–õ–£–ß–®–ï–ù–û) --- */
        .mode-selector { display: flex; gap: 10px; margin-bottom: 20px; }
        .mode-tab { padding: 8px 15px; border-radius: 20px; border: 1px solid #333; background: #111; color: #555; cursor: pointer; font-weight: bold; font-size: 12px; }
        .mode-tab.active { border-color: var(--gold); color: var(--gold); box-shadow: 0 0 10px rgba(255, 215, 0, 0.2); }
        .mode-tab.vip-active { border-color: var(--neon-purple); color: var(--neon-purple); box-shadow: 0 0 10px rgba(157, 0, 255, 0.2); }

        .wheel-container { position: relative; width: 320px; height: 320px; margin-bottom: 20px; }
        .wheel { 
            width: 100%; height: 100%; border-radius: 50%; border: 8px solid #222; 
            transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1); 
            position: relative; overflow: hidden; background: #111;
        }
        .wheel-segment {
            position: absolute; width: 50%; height: 50%; left: 50%; top: 50%;
            transform-origin: 0% 0%; display: flex; align-items: center;
            justify-content: center; padding-left: 60px; font-weight: 900; font-size: 10px;
        }
        .pointer { 
            position: absolute; top: -10px; left: 50%; transform: translateX(-50%); 
            width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; 
            border-top: 35px solid var(--neon-red); z-index: 10; filter: drop-shadow(0 0 5px red);
        }

        /* --- CRASH --- */
        .crash-area {
            width: 90%; max-width: 400px; height: 250px; 
            background: radial-gradient(circle at bottom left, rgba(0, 210, 255, 0.1), transparent);
            border: 2px solid rgba(0, 210, 255, 0.2); border-radius: 20px;
            position: relative; overflow: hidden; margin-bottom: 20px;
            display: flex; align-items: center; justify-content: center;
        }
        #rocket { position: absolute; bottom: 10%; left: 10%; font-size: 40px; display: none; }
        #multText { font-size: 55px; font-weight: 900; z-index: 10; text-shadow: 0 0 20px var(--neon-blue); }
        
        .main-btn { width: 250px; padding: 15px; border-radius: 12px; border: none; font-weight: 900; font-size: 18px; cursor: pointer; transition: 0.2s; text-transform: uppercase; margin-top: 10px; }
        .btn-spin { background: var(--gold); color: #000; box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3); }
        .btn-vip { background: var(--neon-purple); color: #fff; box-shadow: 0 5px 15px rgba(157, 0, 255, 0.3); }
        .btn-crash { background: var(--neon-blue); color: #000; }
        .btn-cashout { background: var(--neon-green); color: #000; animation: pulse 1s infinite; }
        
        .explosion { animation: shake 0.5s both; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px,0,0); } 20%, 80% { transform: translate3d(2px,0,0); } 50% { transform: translate3d(-4px,0,0); } }
        .boom { color: var(--neon-red) !important; }
    </style>
</head>
<body>

    <div class="balance-top">
        <div class="bal" style="border-color: var(--gold);">ü™ô <span id="coins">0</span></div>
        <div class="bal" style="border-color: var(--neon-blue);">üíé <span id="crys">0</span></div>
    </div>

    <div class="game-nav">
        <button class="nav-btn btn-home" onclick="goHome()">üè† –ì–õ–ê–í–ù–ê–Ø</button>
        <button id="nav-wheel" class="nav-btn active" onclick="switchGame('wheel')">–ö–û–õ–ï–°–û</button>
        <button id="nav-crash" class="nav-btn" onclick="switchGame('crash')">CRASH üöÄ</button>
    </div>

    <div id="section-wheel" class="game-section active">
        <h2 class="section-title">Fortune Wheel</h2>
        
        <div class="mode-selector">
            <div id="tab-norm" class="mode-tab active" onclick="setWheelMode('norm')">–û–ë–´–ß–ù–û–ï</div>
            <div id="tab-vip" class="mode-tab" onclick="setWheelMode('vip')">VIP –ö–û–õ–ï–°–û</div>
        </div>

        <div class="wheel-container">
            <div class="pointer"></div>
            <div class="wheel" id="wheel"></div>
        </div>
        
        <button id="spinBtn" class="main-btn btn-spin" onclick="spin()">–ö–†–£–¢–ò–¢–¨ (50k ü™ô)</button>
    </div>

    <div id="section-crash" class="game-section">
        <h2 class="section-title">Neon Crash</h2>
        <div class="crash-area" id="canvas">
            <div id="rocket">üöÄ</div>
            <div id="multText">1.00x</div>
        </div>
        <input type="number" id="betAmount" style="background:#111; border:1px solid #444; color:#fff; padding:10px; width:250px; border-radius:10px; text-align:center; font-size:18px;" value="1000">
        <button id="crashBtn" class="main-btn btn-crash" onclick="crashAction()">–ü–û–°–¢–ê–í–ò–¢–¨</button>
    </div>

<script>
    let isSpinning = false;
    let isFlying = false;
    let wheelMode = 'norm'; 
    let crashInt;
    let currentMult = 1.0;

    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–∑–æ–≤
    const prizes = {
        norm: [
            { n: "10k ü™ô", v: 10000, t: 'c' }, { n: "100k ü™ô", v: 100000, t: 'c' },
            { n: "5 üíé", v: 5, t: 'd' }, { n: "50k ü™ô", v: 50000, t: 'c' },
            { n: "0", v: 0, t: 'c' }, { n: "20k ü™ô", v: 20000, t: 'c' },
            { n: "1 üíé", v: 1, t: 'd' }, { n: "200k ü™ô", v: 200000, t: 'c' }
        ],
        vip: [
            { n: "500k ü™ô", v: 500000, t: 'c' }, { n: "50 üíé", v: 50, t: 'd' },
            { n: "1M ü™ô", v: 1000000, t: 'c' }, { n: "100 üíé", v: 100, t: 'd' },
            { n: "2M ü™ô", v: 2000000, t: 'c' }, { n: "500 üíé", v: 500, t: 'd' },
            { n: "5M ü™ô", v: 5000000, t: 'c' }, { n: "1k üíé", v: 1000, t: 'd' }
        ]
    };

    let state = {
        coins: +localStorage.getItem("coins") || 100000,
        crys: +localStorage.getItem("crystals") || 10
    };

    function goHome() {
        if(isSpinning || isFlying) return alert("–°–Ω–∞—á–∞–ª–∞ –¥–æ–∂–¥–∏—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã!");
        window.location.href = "index.html";
    }

    function switchGame(game) {
        if(isSpinning || isFlying) return alert("–°–Ω–∞—á–∞–ª–∞ –¥–æ–∂–¥–∏—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã!");
        document.querySelectorAll('.game-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        if(game === 'wheel') {
            document.getElementById('section-wheel').classList.add('active');
            document.getElementById('nav-wheel').classList.add('active');
        } else {
            document.getElementById('section-crash').classList.add('active');
            document.getElementById('nav-crash').classList.add('active');
        }
    }

    // –õ–û–ì–ò–ö–ê –ö–û–õ–ï–°–ê
    function setWheelMode(mode) {
        if(isSpinning) return;
        wheelMode = mode;
        const btn = document.getElementById("spinBtn");
        document.getElementById("tab-norm").className = "mode-tab" + (mode==='norm'?' active':'');
        document.getElementById("tab-vip").className = "mode-tab" + (mode==='vip'?' vip-active':'');
        
        if(mode === 'norm') {
            btn.textContent = "–ö–†–£–¢–ò–¢–¨ (50k ü™ô)";
            btn.className = "main-btn btn-spin";
        } else {
            btn.textContent = "–ö–†–£–¢–ò–¢–¨ (100 üíé)";
            btn.className = "main-btn btn-vip";
        }
        renderWheel();
    }

    function renderWheel() {
        const wheel = document.getElementById("wheel");
        wheel.innerHTML = "";
        const data = prizes[wheelMode];
        const colors = wheelMode === 'norm' ? ['#1a1a1a', '#ffd700'] : ['#1a1a1a', '#9d00ff'];
        
        data.forEach((p, i) => {
            const seg = document.createElement("div");
            seg.className = "wheel-segment";
            seg.style.transform = `rotate(${i * 45}deg)`;
            seg.style.background = i % 2 === 0 ? colors[0] : colors[1];
            seg.style.color = i % 2 === 0 ? 'white' : 'black';
            seg.innerHTML = `<span style="transform: rotate(90deg)">${p.n}</span>`;
            wheel.appendChild(seg);
        });
    }

    function spin() {
        if(isSpinning) return;
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã
        if(wheelMode === 'norm') {
            if(state.coins < 50000) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!");
            state.coins -= 50000;
        } else {
            if(state.crys < 100) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤!");
            state.crys -= 100;
        }
        
        isSpinning = true;
        saveState();

        const wheel = document.getElementById("wheel");
        const randomSector = Math.floor(Math.random() * 8);
        const extraDegrees = 3600; // 10 –ø–æ–ª–Ω—ã—Ö –∫—Ä—É–≥–æ–≤
        const totalRotation = extraDegrees + (randomSector * 45);
        
        wheel.style.transition = "transform 5s cubic-bezier(0.15, 0, 0.15, 1)";
        wheel.style.transform = `rotate(-${totalRotation}deg)`;

        setTimeout(() => {
            isSpinning = false;
            const prize = prizes[wheelMode][randomSector];
            
            if(prize.t === 'c') state.coins += prize.v;
            else state.crys += prize.v;
            
            alert(`–í—ã–∏–≥—Ä—ã—à: ${prize.n}`);
            saveState();
            
            // –°–±—Ä–æ—Å –∫–æ–ª–µ—Å–∞ –±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑–∞
            wheel.style.transition = "none";
            wheel.style.transform = `rotate(-${totalRotation % 360}deg)`;
        }, 5100);
    }

    // –õ–û–ì–ò–ö–ê –ö–†–ê–®–ê
    function crashAction() {
        const btn = document.getElementById("crashBtn");
        const rocket = document.getElementById("rocket");
        const canvas = document.getElementById("canvas");
        const disp = document.getElementById("multText");

        if(!isFlying) {
            const bet = +document.getElementById("betAmount").value;
            if(bet > state.coins || bet <= 0) return alert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç!");
            state.coins -= bet; 
            saveState();
            isFlying = true; currentMult = 1.0;
            btn.textContent = "–ó–ê–ë–†–ê–¢–¨"; btn.className = "main-btn btn-cashout";
            disp.classList.remove("boom"); canvas.classList.remove("explosion");
            rocket.style.display = "block"; rocket.textContent = "üöÄ";
            
            let boomPoint = 1 + (Math.random() * Math.random() * 8);
            crashInt = setInterval(() => {
                currentMult += 0.01 + (currentMult/120);
                disp.textContent = currentMult.toFixed(2) + "x";
                rocket.style.left = Math.min(10 + (currentMult * 8), 80) + "%";
                rocket.style.bottom = Math.min(10 + (currentMult * 10), 70) + "%";
                if(currentMult >= boomPoint) {
                    clearInterval(crashInt); isFlying = false;
                    disp.textContent = "BOOM!"; disp.classList.add("boom");
                    canvas.classList.add("explosion"); rocket.textContent = "üí•";
                    setTimeout(() => {
                        rocket.style.display = "none";
                        btn.textContent = "–ü–û–°–¢–ê–í–ò–¢–¨"; btn.className = "main-btn btn-crash";
                    }, 1500);
                }
            }, 80);
        } else {
            clearInterval(crashInt); isFlying = false;
            const bet = +document.getElementById("betAmount").value;
            state.coins += Math.floor(bet * currentMult);
            saveState();
            rocket.style.transition = "all 0.5s ease-in";
            rocket.style.left = "150%"; rocket.style.bottom = "150%";
            btn.textContent = "–ü–û–°–¢–ê–í–ò–¢–¨"; btn.className = "main-btn btn-crash";
            setTimeout(() => {
                rocket.style.display = "none";
                rocket.style.transition = "none";
            }, 500);
        }
    }

    function saveState() {
        localStorage.setItem("coins", state.coins);
        localStorage.setItem("crystals", state.crys);
        document.getElementById("coins").textContent = Math.floor(state.coins).toLocaleString();
        document.getElementById("crys").textContent = state.crys.toLocaleString();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    renderWheel();
    saveState();
</script>
</body>
</html>
