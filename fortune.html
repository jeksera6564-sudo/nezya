<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEON CASINO ‚Äî VIP EDITION</title>
    <style>
        :root {
            --gold: #ffd700;
            --neon-blue: #00d2ff;
            --neon-purple: #9d00ff;
            --neon-red: #ff4d4d;
            --neon-green: #39ff14;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: #020205; font-family: 'Segoe UI', sans-serif; color: white;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
            overflow-y: auto; overflow-x: hidden; padding-bottom: 50px;
        }

        /* --- UI –≠–õ–ï–ú–ï–ù–¢–´ --- */
        .balance-top { position: sticky; top: 0; display: flex; gap: 10px; z-index: 100; background: rgba(0,0,0,0.8); padding: 15px; width: 100%; justify-content: center; backdrop-filter: blur(10px); border-bottom: 1px solid #333; }
        .bal { background: #111; padding: 8px 15px; border-radius: 12px; border: 1px solid var(--gold); font-weight: 900; min-width: 100px; text-align: center; font-size: 14px; }

        .section-title { margin: 25px 0 15px; text-transform: uppercase; letter-spacing: 2px; font-size: 18px; color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); }

        /* --- –°–¢–ò–õ–ò –ö–û–õ–ï–°–ê --- */
        .mode-switch { display: flex; gap: 5px; background: #111; padding: 5px; border-radius: 30px; margin-bottom: 20px; }
        .mode-btn { padding: 8px 12px; border-radius: 20px; border: none; cursor: pointer; font-weight: 900; font-size: 10px; background: transparent; color: #555; transition: 0.3s; }
        .mode-btn.active.coin { background: var(--gold); color: #000; }
        .mode-btn.active.vip { background: var(--neon-purple); color: #fff; }
        .mode-btn.active.ultra { background: var(--neon-red); color: #fff; }

        .wheel-container { position: relative; width: 300px; height: 300px; margin-bottom: 15px; }
        .wheel { width: 100%; height: 100%; border-radius: 50%; border: 6px solid var(--gold); transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1); position: relative; overflow: hidden; }
        .segment { position: absolute; width: 50%; height: 50%; left: 50%; top: 50%; transform-origin: 0% 0%; display: flex; align-items: center; justify-content: flex-start; padding-left: 40px; font-weight: 900; font-size: 11px; text-shadow: 0 0 5px #000; }
        .pointer { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; border-top: 35px solid var(--gold); z-index: 10; }

        /* --- –°–¢–ò–õ–ò CRASH --- */
        .crash-card { width: 90%; max-width: 400px; background: #0a0a0c; border: 1px solid #222; border-radius: 20px; padding: 20px; text-align: center; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        .crash-display { height: 120px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; border-bottom: 1px dashed #333; }
        #multText { font-size: 50px; font-weight: 900; text-shadow: 0 0 20px var(--neon-blue); }
        .crash-input { background: #111; border: 1px solid #444; color: #fff; padding: 10px; width: 100%; border-radius: 10px; text-align: center; margin-bottom: 15px; font-size: 18px; }
        
        .main-btn { width: 100%; padding: 15px; border-radius: 12px; border: none; font-weight: 900; font-size: 18px; cursor: pointer; transition: 0.2s; text-transform: uppercase; }
        .btn-spin { background: var(--gold); color: #000; }
        .btn-crash { background: var(--neon-blue); color: #000; }
        .btn-cashout { background: var(--neon-green); color: #000; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.8; } 100% { opacity: 1; } }

        .jackpot-alert { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.95); border: 3px solid var(--neon-red); padding: 30px; border-radius: 20px; text-align: center; z-index: 1000; display: none; }
        .boom { color: var(--neon-red) !important; text-shadow: 0 0 20px var(--neon-red) !important; }
    </style>
</head>
<body>

    <div class="jackpot-alert" id="jackBox">
        <h1 style="color: var(--gold);">üèÜ –ú–ê–ì–ù–ê–¢!</h1>
        <p>–í—ã –æ—Ç–∫—Ä—ã–ª–∏ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞!</p>
        <button class="main-btn btn-spin" style="margin-top: 15px;" onclick="document.getElementById('jackBox').style.display='none'">–ó–ê–ë–†–ê–¢–¨</button>
    </div>

    <div class="balance-top">
        <div class="bal" style="border-color: var(--gold);">ü™ô <span id="coins">0</span></div>
        <div class="bal" style="border-color: var(--neon-blue);">üíé <span id="crys">0</span></div>
    </div>

    <h2 class="section-title">–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</h2>
    <div class="mode-switch">
        <button id="m-coin" class="mode-btn active coin" onclick="setMode('coin')">50k ü™ô</button>
        <button id="m-vip" class="mode-btn vip" onclick="setMode('vip')">VIP üíé</button>
        <button id="m-ultra" class="mode-btn ultra" onclick="setMode('ultra')">Ultra 5k</button>
    </div>

    <div class="wheel-container">
        <div class="pointer" id="pointer"></div>
        <div class="wheel" id="wheel"></div>
    </div>
    <button id="spinBtn" class="main-btn btn-spin" style="width: 250px;" onclick="spin()">–ö–†–£–¢–ò–¢–¨</button>
    <p id="timer" style="font-size: 12px; margin-top: 10px; color: #888;"></p>

    <h2 class="section-title">Neon Crash</h2>
    <div class="crash-card">
        <div class="crash-display">
            <div id="multText">1.00x</div>
        </div>
        <input type="number" id="betAmount" class="crash-input" value="1000">
        <button id="crashBtn" class="main-btn btn-crash" onclick="crashAction()">–ü–û–°–¢–ê–í–ò–¢–¨</button>
    </div>

    <a href="index.html" style="margin-top: 30px; color: #444; text-decoration: none; font-size: 12px;">‚Üê –ù–ê–ó–ê–î –í –ò–ì–†–£</a>

<script>
    let isSpinning = false;
    let isFlying = false;
    let currentMode = 'coin';
    let crashInt;
    let currentMult = 1.0;

    let state = {
        coins: +localStorage.getItem("coins") || 0,
        crys: +localStorage.getItem("crystals") || 0,
        lastSpin: +localStorage.getItem("lastSpinTime") || 0,
        heroes: JSON.parse(localStorage.getItem("characters")) || { default: true }
    };

    const wheelData = {
        coin: { cost: 50000, color: '#ffa502', prizes: [{n:"100k ü™ô",v:100000,t:'c'},{n:"5 üíé",v:5,t:'d'},{n:"50k ü™ô",v:50000,t:'c'},{n:"1 üíé",v:1,t:'d'},{n:"200k ü™ô",v:200000,t:'c'},{n:"10k ü™ô",v:10000,t:'c'},{n:"10 üíé",v:10,t:'d'},{n:"5k ü™ô",v:5000,t:'c'}] },
        vip: { cost: 100, color: '#9d00ff', prizes: [{n:"500 üíé",v:500,t:'d'},{n:"10k ü™ô",v:10000,t:'c'},{n:"10 üíé",v:10,t:'d'},{n:"5k ü™ô",v:5000,t:'c'},{n:"200 üíé",v:200,t:'d'},{n:"1k ü™ô",v:1000,t:'c'},{n:"50 üíé",v:50,t:'d'},{n:"500 ü™ô",v:500,t:'c'}] },
        ultra: { cost: 5000, color: '#ff4d4d', prizes: [{n:"10k üíé",v:10000,t:'d'},{n:"1M ü™ô",v:1000000,t:'c'},{n:"5k üíé",v:5000,t:'d'},{n:"2M ü™ô",v:2000000,t:'c'},{n:"7k üíé",v:7000,t:'d'},{n:"500k ü™ô",v:500000,t:'c'},{n:"3k üíé",v:3000,t:'d'},{n:"100 üíé",v:100,t:'d'}] }
    };

    function updateUI() {
        document.getElementById("coins").textContent = Math.floor(state.coins).toLocaleString();
        document.getElementById("crys").textContent = state.crys.toLocaleString();
        const data = wheelData[currentMode];
        const sBtn = document.getElementById("spinBtn");
        
        if(currentMode === 'vip') {
            const diff = Date.now() - state.lastSpin;
            if(diff >= 86400000) { sBtn.textContent = "–ë–ï–°–ü–õ–ê–¢–ù–û"; document.getElementById("timer").textContent = "–ë–æ–Ω—É—Å –≥–æ—Ç–æ–≤!"; }
            else { sBtn.textContent = `–ó–ê ${data.cost} üíé`; document.getElementById("timer").textContent = `–ë–µ—Å–ø–ª–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ ${Math.floor((86400000-diff)/3600000)}—á`; }
        } else {
            sBtn.textContent = `–ó–ê ${data.cost.toLocaleString()} ${currentMode === 'coin' ? 'ü™ô' : 'üíé'}`;
            document.getElementById("timer").textContent = "";
        }
    }

    // –õ–û–ì–ò–ö–ê –ö–û–õ–ï–°–ê
    function setMode(m) {
        if(isSpinning) return;
        currentMode = m;
        const data = wheelData[m];
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(`m-${m}`).classList.add('active');
        const w = document.getElementById("wheel");
        w.style.borderColor = data.color;
        document.getElementById("pointer").style.borderTopColor = data.color;
        w.innerHTML = "";
        w.style.background = `conic-gradient(${data.color} 0deg 45deg, #121212 45deg 90deg, ${data.color} 90deg 135deg, #121212 135deg 180deg, ${data.color} 180deg 225deg, #121212 225deg 270deg, ${data.color} 270deg 315deg, #121212 315deg 360deg)`;
        data.prizes.forEach((p, i) => {
            const d = document.createElement("div"); d.className = "segment";
            d.style.transform = `rotate(${i*45+22.5}deg) rotate(-90deg)`;
            d.innerHTML = p.n; w.appendChild(d);
        });
        updateUI();
    }

    function spin() {
        if(isSpinning) return;
        const data = wheelData[currentMode];
        if(currentMode === 'coin' && state.coins < data.cost) return alert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç!");
        if(currentMode === 'ultra' && state.crys < data.cost) return alert("–ú–∞–ª–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤!");
        if(currentMode === 'vip') {
            const free = (Date.now() - state.lastSpin) >= 86400000;
            if(!free && state.crys < data.cost) return alert("–ú–∞–ª–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤!");
            if(free) { state.lastSpin = Date.now(); localStorage.setItem("lastSpinTime", state.lastSpin); }
            else state.crys -= data.cost;
        } else {
            if(currentMode === 'coin') state.coins -= data.cost; else state.crys -= data.cost;
        }

        isSpinning = true;
        const target = Math.floor(Math.random()*8);
        const rot = 3600 + (360 - (target*45));
        const w = document.getElementById("wheel");
        w.style.transform = `rotate(${rot}deg)`;

        setTimeout(() => {
            isSpinning = false;
            if(Math.random() < 0.0004) { state.heroes["magnate"] = true; document.getElementById("jackBox").style.display='block'; localStorage.setItem("characters", JSON.stringify(state.heroes)); }
            const p = data.prizes[target];
            if(p.t === 'c') state.coins += p.v; else state.crys += p.v;
            saveState();
            w.style.transition = "none"; w.style.transform = `rotate(${rot%360}deg)`;
            setTimeout(() => w.style.transition = "transform 5s cubic-bezier(0.15,0,0.15,1)", 50);
        }, 5100);
    }

    // –õ–û–ì–ò–ö–ê CRASH
    function crashAction() {
        if(!isFlying) {
            const bet = +document.getElementById("betAmount").value;
            if(bet > state.coins || bet <= 0) return alert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç!");
            state.coins -= bet; saveState();
            isFlying = true; currentMult = 1.0;
            const btn = document.getElementById("crashBtn");
            btn.textContent = "–ó–ê–ë–†–ê–¢–¨"; btn.className = "main-btn btn-cashout";
            const disp = document.getElementById("multText");
            disp.classList.remove("boom");
            const boomPoint = 1 + (Math.random() * Math.random() * 10);
            crashInt = setInterval(() => {
                currentMult += 0.01 + (currentMult/100);
                disp.textContent = currentMult.toFixed(2) + "x";
                if(currentMult >= boomPoint) {
                    clearInterval(crashInt); isFlying = false;
                    disp.textContent = "BOOM! " + currentMult.toFixed(2) + "x";
                    disp.classList.add("boom");
                    btn.textContent = "–ü–û–°–¢–ê–í–ò–¢–¨"; btn.className = "main-btn btn-crash";
                }
            }, 80);
        } else {
            clearInterval(crashInt); isFlying = false;
            const bet = +document.getElementById("betAmount").value;
            state.coins += Math.floor(bet * currentMult);
            saveState();
            const btn = document.getElementById("crashBtn");
            btn.textContent = "–ü–û–°–¢–ê–í–ò–¢–¨"; btn.className = "main-btn btn-crash";
            alert("–í—ã –∑–∞–±—Ä–∞–ª–∏: " + Math.floor(bet * currentMult) + " ü™ô");
        }
    }

    function saveState() {
        localStorage.setItem("coins", state.coins);
        localStorage.setItem("crystals", state.crys);
        updateUI();
    }

    setMode('coin');
</script>
</body>
</html>
