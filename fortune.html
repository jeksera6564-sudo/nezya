<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã ‚Äî Nezya</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            width: 100vw; height: 100vh; 
            background: radial-gradient(circle, #2c3e50, #000); 
            font-family: 'Segoe UI', sans-serif; overflow: hidden; color: white;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        .balance-top { position: absolute; top: 20px; display: flex; gap: 15px; z-index: 20; }
        .bal { background: rgba(0,0,0,0.7); padding: 8px 15px; border-radius: 20px; border: 1px solid #ffd700; font-weight: bold; }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–ª–µ—Å–∞ */
        .wheel-container { position: relative; width: 340px; height: 340px; margin-bottom: 40px; }
        
        .wheel {
            width: 100%; height: 100%; border-radius: 50%; border: 8px solid #ffd700;
            background: conic-gradient(
                #e74c3c 0deg 45deg, #3498db 45deg 90deg, 
                #f1c40f 90deg 135deg, #2ecc71 135deg 180deg,
                #9b59b6 180deg 225deg, #e67e22 225deg 270deg, 
                #1abc9c 270deg 315deg, #f39c12 315deg 360deg
            );
            transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1);
            position: relative; overflow: hidden;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.3);
        }

        /* –ò–∫–æ–Ω–∫–∏ –∏ —Ç–µ–∫—Å—Ç –Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞—Ö */
        .segment {
            position: absolute; width: 50%; height: 50%;
            left: 50%; top: 50%; transform-origin: 0% 0%;
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            padding-top: 20px; font-weight: 900; font-size: 14px; text-shadow: 1px 1px 2px #000;
            pointer-events: none;
        }

        .pointer {
            position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
            width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent;
            border-top: 35px solid #ffd700; z-index: 50; filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5));
        }

        .center-cap {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 50px; height: 50px; background: #ffd700; border: 4px solid #fff;
            border-radius: 50%; z-index: 60; box-shadow: 0 0 15px rgba(0,0,0,0.5);
        }

        .controls { text-align: center; z-index: 20; }
        .spin-btn {
            background: #ffd700; color: #000; border: none; padding: 15px 45px;
            border-radius: 30px; font-weight: 900; font-size: 18px; cursor: pointer;
            box-shadow: 0 6px 0 #b8860b; transition: 0.1s;
        }
        .spin-btn:active { transform: translateY(3px); box-shadow: 0 3px 0 #b8860b; }
        .spin-btn:disabled { background: #444; box-shadow: none; color: #888; }

        .timer { margin-top: 15px; font-size: 13px; color: #ffd700; text-transform: uppercase; letter-spacing: 1px; }
        .back { margin-top: 30px; color: #aaa; text-decoration: none; display: block; font-size: 14px; }
    </style>
</head>
<body>

    <div class="balance-top">
        <div class="bal">ü™ô <span id="coins">0</span></div>
        <div class="bal">üíé <span id="crystals">0</span></div>
    </div>

    <div class="wheel-container">
        <div class="pointer"></div>
        <div class="center-cap"></div>
        <div class="wheel" id="wheel">
            <div class="segment" style="transform: rotate(22.5deg) translate(-50%, -100%);">ü™ô 500</div>
            <div class="segment" style="transform: rotate(67.5deg) translate(-50%, -100%);">üíé 2</div>
            <div class="segment" style="transform: rotate(112.5deg) translate(-50%, -100%);">ü™ô 100</div>
            <div class="segment" style="transform: rotate(157.5deg) translate(-50%, -100%);">üíé 5</div>
            <div class="segment" style="transform: rotate(202.5deg) translate(-50%, -100%);">ü™ô 1000</div>
            <div class="segment" style="transform: rotate(247.5deg) translate(-50%, -100%);">üíé 1</div>
            <div class="segment" style="transform: rotate(292.5deg) translate(-50%, -100%);">ü™ô 2000</div>
            <div class="segment" style="transform: rotate(337.5deg) translate(-50%, -100%);">üíé 50</div>
        </div>
    </div>

    <div class="controls">
        <button id="spinBtn" class="spin-btn" onclick="spin()">–ö–†–£–¢–ò–¢–¨ –ë–ï–°–ü–õ–ê–¢–ù–û</button>
        <div class="timer" id="timer">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        <a href="index.html" class="back">–ù–ê–ó–ê–î –í –ò–ì–†–£</a>
    </div>

<script>
    let state = {
        coins: +localStorage.getItem("coins") || 0,
        crystals: +localStorage.getItem("crystals") || 0,
        lastSpin: +localStorage.getItem("lastSpinTime") || 0
    };
    
    const COST = 100; // –ù–û–í–ê–Ø –¶–ï–ù–ê: 100 –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤

    const prizes = [
        { name: "500 –º–æ–Ω–µ—Ç", type: "coins", val: 500 },
        { name: "2 –∫—Ä–∏—Å—Ç–∞–ª–ª–∞", type: "crystals", val: 2 },
        { name: "100 –º–æ–Ω–µ—Ç", type: "coins", val: 100 },
        { name: "5 –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤", type: "crystals", val: 5 },
        { name: "1000 –º–æ–Ω–µ—Ç", type: "coins", val: 1000 },
        { name: "1 –∫—Ä–∏—Å—Ç–∞–ª–ª", type: "crystals", val: 1 },
        { name: "2000 –º–æ–Ω–µ—Ç", type: "coins", val: 2000 },
        { name: "–î–ñ–ï–ö–ü–û–¢ 50üíé", type: "crystals", val: 50 }
    ];

    function updateUI() {
        document.getElementById("coins").textContent = Math.floor(state.coins).toLocaleString();
        document.getElementById("crystals").textContent = state.crystals;
        
        const now = Date.now();
        const diff = now - state.lastSpin;
        const day = 24 * 60 * 60 * 1000;

        if (diff < day) {
            document.getElementById("spinBtn").textContent = `–ö–†–£–¢–ò–¢–¨ –ó–ê ${COST} üíé`;
            const timeLeft = day - diff;
            const h = Math.floor(timeLeft / 3600000);
            const m = Math.floor((timeLeft % 3600000) / 60000);
            document.getElementById("timer").textContent = `–ë–µ—Å–ø–ª–∞—Ç–Ω–æ —á–µ—Ä–µ–∑: ${h}—á ${m}–º`;
        } else {
            document.getElementById("spinBtn").textContent = "–ö–†–£–¢–ò–¢–¨ –ë–ï–°–ü–õ–ê–¢–ù–û";
            document.getElementById("timer").textContent = "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å –≥–æ—Ç–æ–≤!";
        }
    }

    let isRotating = false;
    function spin() {
        if (isRotating) return;

        const now = Date.now();
        const isFree = (now - state.lastSpin) >= (24 * 60 * 60 * 1000);

        if (!isFree) {
            if (state.crystals < COST) {
                alert(`–ù—É–∂–Ω–æ ${COST} üíé –¥–ª—è –ø–ª–∞—Ç–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏!`);
                return;
            }
            state.crystals -= COST;
        } else {
            state.lastSpin = now;
            localStorage.setItem("lastSpinTime", state.lastSpin);
        }

        isRotating = true;
        document.getElementById("spinBtn").disabled = true;

        const rotation = Math.floor(Math.random() * 360) + 3600; 
        const wheel = document.getElementById("wheel");
        wheel.style.transform = `rotate(${rotation}deg)`;

        setTimeout(() => {
            isRotating = false;
            document.getElementById("spinBtn").disabled = false;
            
            const actualDeg = rotation % 360;
            const sector = Math.floor(((360 - actualDeg + 22.5) % 360) / 45);
            const prize = prizes[sector];

            if (prize.type === "coins") state.coins += prize.val;
            else state.crystals += prize.val;

            alert(`üéÅ –ü–†–ò–ó: ${prize.name}`);
            
            localStorage.setItem("coins", state.coins);
            localStorage.setItem("crystals", state.crystals);
            updateUI();
            
            wheel.style.transition = "none";
            wheel.style.transform = `rotate(${actualDeg}deg)`;
            setTimeout(() => wheel.style.transition = "transform 4s cubic-bezier(0.15, 0, 0.15, 1)", 50);
        }, 4100);
    }

    updateUI();
    setInterval(updateUI, 60000);
</script>
</body>
</html>
