<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã ‚Äî VIP –ù–∞–≥—Ä–∞–¥—ã</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            width: 100vw; height: 100vh; 
            background: radial-gradient(circle, #1a1a1a, #000); 
            font-family: 'Segoe UI', sans-serif; overflow: hidden; color: white;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .balance-top { position: absolute; top: 20px; display: flex; gap: 15px; z-index: 20; }
        .bal { background: rgba(0,0,0,0.8); padding: 10px 20px; border-radius: 20px; border: 2px solid #ffd700; font-weight: 900; min-width: 100px; text-align: center; }

        .wheel-container { position: relative; width: 360px; height: 360px; margin-bottom: 30px; }
        .wheel {
            width: 100%; height: 100%; border-radius: 50%; border: 10px solid #ffd700;
            background: conic-gradient(
                #ff4757 0deg 45deg, #2f3542 45deg 90deg, 
                #ffa502 90deg 135deg, #2ed573 135deg 180deg,
                #1e90ff 180deg 225deg, #747d8c 225deg 270deg, 
                #5352ed 270deg 315deg, #ff7f50 315deg 360deg
            );
            transition: transform 4.5s cubic-bezier(0.15, 0, 0.15, 1);
            position: relative; overflow: hidden;
            box-shadow: 0 0 60px rgba(255, 215, 0, 0.3);
        }

        .segment {
            position: absolute; width: 50%; height: 50%;
            left: 50%; top: 50%; transform-origin: 0% 0%;
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            padding-top: 30px; font-weight: 900; font-size: 14px; text-shadow: 2px 2px 4px #000;
            pointer-events: none; text-align: center;
        }

        .pointer {
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
            width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent;
            border-top: 40px solid #ffd700; z-index: 50; filter: drop-shadow(0 4px 5px #000);
        }

        .center-cap {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 60px; height: 60px; background: #ffd700; border: 4px solid #fff;
            border-radius: 50%; z-index: 60; box-shadow: 0 0 20px #000;
            display: flex; align-items: center; justify-content: center; color: black; font-weight: 900;
        }

        .controls { text-align: center; z-index: 20; }
        .spin-btn {
            background: linear-gradient(#ffd700, #ff7f50); color: #000; border: none; padding: 18px 60px;
            border-radius: 40px; font-weight: 900; font-size: 22px; cursor: pointer;
            box-shadow: 0 6px 0 #b8860b; transition: 0.1s; text-transform: uppercase;
        }
        .spin-btn:active { transform: translateY(3px); box-shadow: 0 3px 0 #b8860b; }
        .spin-btn:disabled { background: #444; box-shadow: none; color: #888; }

        .timer { margin-top: 15px; font-size: 14px; color: #ffd700; font-weight: bold; }
        .back { margin-top: 25px; color: #fff; text-decoration: none; display: block; opacity: 0.5; font-size: 14px; }
    </style>
</head>
<body>

    <div class="balance-top">
        <div class="bal">ü™ô <span id="coins">0</span></div>
        <div class="bal">üíé <span id="crystals">0</span></div>
    </div>

    <div class="wheel-container">
        <div class="pointer"></div>
        <div class="center-cap">üé∞</div>
        <div class="wheel" id="wheel">
            <div class="segment" style="transform: rotate(22.5deg) translate(-50%, -100%);">üíé 500<br>JACKPOT</div>
            <div class="segment" style="transform: rotate(67.5deg) translate(-50%, -100%);">ü™ô 10.000</div>
            <div class="segment" style="transform: rotate(112.5deg) translate(-50%, -100%);">üíé 10</div>
            <div class="segment" style="transform: rotate(157.5deg) translate(-50%, -100%);">ü™ô 5.000</div>
            <div class="segment" style="transform: rotate(202.5deg) translate(-50%, -100%);">üíé 200</div>
            <div class="segment" style="transform: rotate(247.5deg) translate(-50%, -100%);">ü™ô 1.000</div>
            <div class="segment" style="transform: rotate(292.5deg) translate(-50%, -100%);">üíé 50</div>
            <div class="segment" style="transform: rotate(337.5deg) translate(-50%, -100%);">ü™ô 500</div>
        </div>
    </div>

    <div class="controls">
        <button id="spinBtn" class="spin-btn" onclick="spin()">–ö–†–£–¢–ò–¢–¨</button>
        <div class="timer" id="timer">...</div>
        <a href="index.html" class="back">–ù–ê–ó–ê–î –í –ò–ì–†–£</a>
    </div>

<script>
    let state = {
        coins: +localStorage.getItem("coins") || 0,
        crystals: +localStorage.getItem("crystals") || 0,
        lastSpin: +localStorage.getItem("lastSpinTime") || 0
    };
    
    const COST = 100;

    const prizes = [
        { name: "500 –ö–†–ò–°–¢–ê–õ–õ–û–í", type: "crystals", val: 500 }, // –°–µ–∫—Ç–æ—Ä 0
        { name: "10.000 –ú–û–ù–ï–¢", type: "coins", val: 10000 },    // –°–µ–∫—Ç–æ—Ä 1
        { name: "10 –ö–†–ò–°–¢–ê–õ–õ–û–í", type: "crystals", val: 10 },    // –°–µ–∫—Ç–æ—Ä 2
        { name: "5.000 –ú–û–ù–ï–¢", type: "coins", val: 5000 },     // –°–µ–∫—Ç–æ—Ä 3
        { name: "200 –ö–†–ò–°–¢–ê–õ–õ–û–í", type: "crystals", val: 200 },  // –°–µ–∫—Ç–æ—Ä 4
        { name: "1.000 –ú–û–ù–ï–¢", type: "coins", val: 1000 },     // –°–µ–∫—Ç–æ—Ä 5
        { name: "50 –ö–†–ò–°–¢–ê–õ–õ–û–í", type: "crystals", val: 50 },    // –°–µ–∫—Ç–æ—Ä 6
        { name: "500 –ú–û–ù–ï–¢", type: "coins", val: 500 }        // –°–µ–∫—Ç–æ—Ä 7
    ];

    function updateUI() {
        document.getElementById("coins").textContent = Math.floor(state.coins).toLocaleString();
        document.getElementById("crystals").textContent = state.crystals;
        
        const now = Date.now();
        const diff = now - state.lastSpin;
        const day = 24 * 60 * 60 * 1000;

        if (diff < day) {
            document.getElementById("spinBtn").textContent = `–ó–ê ${COST} üíé`;
            const timeLeft = day - diff;
            const h = Math.floor(timeLeft / 3600000);
            const m = Math.floor((timeLeft % 3600000) / 60000);
            document.getElementById("timer").textContent = `–ë–µ—Å–ø–ª–∞—Ç–Ω–æ —á–µ—Ä–µ–∑: ${h}—á ${m}–º`;
        } else {
            document.getElementById("spinBtn").textContent = "–ë–ï–°–ü–õ–ê–¢–ù–û";
            document.getElementById("timer").textContent = "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å –≥–æ—Ç–æ–≤!";
        }
    }

    let isSpinning = false;
    function spin() {
        if (isSpinning) return;

        const now = Date.now();
        const isFree = (now - state.lastSpin) >= (24 * 60 * 60 * 1000);

        if (!isFree) {
            if (state.crystals < COST) {
                alert(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤! –ù—É–∂–Ω–æ ${COST} üíé`);
                return;
            }
            state.crystals -= COST;
        } else {
            state.lastSpin = now;
            localStorage.setItem("lastSpinTime", state.lastSpin);
        }

        isSpinning = true;
        document.getElementById("spinBtn").disabled = true;

        // –í–´–ß–ò–°–õ–ï–ù–ò–ï –®–ê–ù–°–û–í
        let targetSector;
        const roll = Math.random();

        if (roll < 0.10) { 
            targetSector = 0; // 10% —à–∞–Ω—Å –Ω–∞ 500 –ö—Ä–∏—Å—Ç–∞–ª–ª–æ–≤
        } else if (roll < 0.40) { 
            // 30% —à–∞–Ω—Å –Ω–∞ 200 –ö—Ä–∏—Å—Ç–∞–ª–ª–æ–≤ –∏–ª–∏ 10–∫ –ú–æ–Ω–µ—Ç
            targetSector = Math.random() < 0.5 ? 1 : 4; 
        } else {
            // –û—Å—Ç–∞–ª—å–Ω—ã–µ 60% –Ω–∞ –æ–±—ã—á–Ω—ã–µ –ø—Ä–∏–∑—ã
            const commonSectors = [2, 3, 5, 6, 7];
            targetSector = commonSectors[Math.floor(Math.random() * commonSectors.length)];
        }

        const targetDeg = (360 - (targetSector * 45) - 22.5); 
        const totalRotation = 3600 + targetDeg; 

        const wheel = document.getElementById("wheel");
        wheel.style.transform = `rotate(${totalRotation}deg)`;

        setTimeout(() => {
            isSpinning = false;
            document.getElementById("spinBtn").disabled = false;
            
            const prize = prizes[targetSector];
            if (prize.type === "coins") state.coins += prize.val;
            else state.crystals += prize.val;

            alert(`üéâ –ü–û–ë–ï–î–ê! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${prize.name}`);
            
            localStorage.setItem("coins", state.coins);
            localStorage.setItem("crystals", state.crystals);
            updateUI();
            
            wheel.style.transition = "none";
            wheel.style.transform = `rotate(${targetDeg}deg)`;
            setTimeout(() => wheel.style.transition = "transform 4.5s cubic-bezier(0.15, 0, 0.15, 1)", 50);
        }, 4600);
    }

    updateUI();
    setInterval(updateUI, 60000);
</script>
</body>
</html>
