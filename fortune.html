<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEON CASINO ‚Äî DAILY LUCK</title>
    <style>
        :root {
            --gold: #ffd700;
            --neon-blue: #00d2ff;
            --neon-purple: #9d00ff;
            --neon-red: #ff4d4d;
            --neon-green: #39ff14;
            --neon-pink: #ff00ff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: #05050a; font-family: 'Segoe UI', sans-serif; color: white;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- UI –≠–õ–ï–ú–ï–ù–¢–´ --- */
        .balance-top { display: flex; gap: 10px; z-index: 100; background: rgba(0,0,0,0.9); padding: 15px; width: 100%; justify-content: center; border-bottom: 2px solid #1a1a1a; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        .bal { background: #000; padding: 8px 15px; border-radius: 12px; border: 1px solid var(--gold); font-weight: 900; min-width: 120px; text-align: center; font-size: 14px; box-shadow: inset 0 0 10px rgba(255, 215, 0, 0.2); }

        /* --- –ù–ê–í–ò–ì–ê–¶–ò–Ø --- */
        .game-nav { display: flex; gap: 8px; margin: 20px 0; background: #111; padding: 5px; border-radius: 15px; border: 1px solid #333; width: 95%; max-width: 450px; }
        .nav-btn { padding: 12px; border-radius: 10px; border: none; background: transparent; color: #555; font-weight: 900; cursor: pointer; transition: 0.3s; font-size: 11px; flex: 1; text-align: center; }
        .nav-btn.active { background: var(--neon-blue); color: #000; box-shadow: 0 0 15px var(--neon-blue); }
        .btn-home { color: var(--neon-purple); border: 1px solid rgba(157, 0, 255, 0.3); }

        /* --- –ö–û–õ–ï–°–û --- */
        .mode-selector { display: flex; gap: 15px; margin-bottom: 20px; }
        .mode-tab { padding: 10px 20px; border-radius: 30px; border: 2px solid #222; background: #000; color: #444; cursor: pointer; font-size: 13px; font-weight: 900; transition: 0.4s; text-transform: uppercase; }
        .mode-tab.active-norm { border-color: var(--neon-green); color: var(--neon-green); box-shadow: 0 0 15px var(--neon-green); }
        .mode-tab.active-vip { border-color: var(--neon-pink); color: var(--neon-pink); box-shadow: 0 0 15px var(--neon-pink); }

        .wheel-container { position: relative; width: 330px; height: 330px; margin-bottom: 25px; border-radius: 50%; padding: 10px; background: #000; box-shadow: 0 0 30px rgba(255,255,255,0.05); }
        .wheel-outer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%; border: 4px solid #111; z-index: 5; pointer-events: none; }
        .wheel-outer.norm-glow { border-color: var(--neon-green); box-shadow: 0 0 20px var(--neon-green); }
        .wheel-outer.vip-glow { border-color: var(--neon-pink); box-shadow: 0 0 20px var(--neon-pink); }

        .wheel { width: 100%; height: 100%; border-radius: 50%; transition: transform 6s cubic-bezier(0.15, 0, 0.1, 1); position: relative; overflow: hidden; background: #000; }
        .wheel-segment { position: absolute; width: 50%; height: 50%; left: 50%; top: 50%; transform-origin: 0% 0%; display: flex; align-items: center; justify-content: center; padding-left: 60px; font-weight: 900; font-size: 11px; text-transform: uppercase; border-left: 1px solid rgba(255,255,255,0.1); }
        .pointer { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 18px solid transparent; border-right: 18px solid transparent; border-top: 40px solid #fff; z-index: 10; filter: drop-shadow(0 0 10px #fff); }

        /* --- –ö–ù–û–ü–ö–ò --- */
        .main-btn { width: 280px; padding: 20px; border-radius: 18px; border: none; font-weight: 900; font-size: 18px; cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 1px; }
        .btn-spin { background: var(--neon-green); color: #000; box-shadow: 0 0 20px var(--neon-green); }
        .btn-free { background: var(--gold); color: #000; box-shadow: 0 0 25px var(--gold); animation: pulse 1s infinite; }
        .btn-vip { background: var(--neon-pink); color: #fff; box-shadow: 0 0 25px var(--neon-pink); }
        
        .daily-timer { margin-top: 10px; font-size: 12px; color: #777; font-weight: bold; }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ö—Ä–∞—à (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) */
        .game-section { display: none; flex-direction: column; align-items: center; width: 100%; animation: fadeIn 0.4s ease; }
        .game-section.active { display: flex; }
        .crash-area { width: 90%; max-width: 400px; height: 230px; background: #000; border: 2px solid #111; border-radius: 20px; position: relative; overflow: hidden; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; }
        #rocket { position: absolute; bottom: 10%; left: 10%; font-size: 40px; display: none; z-index: 5; }
        #multText { font-size: 65px; font-weight: 900; z-index: 10; color: var(--neon-blue); }
        .btn-crash { background: var(--neon-blue); color: #000; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="balance-top">
        <div class="bal" style="border-color: var(--gold);">ü™ô <span id="coins">0</span></div>
        <div class="bal" style="border-color: var(--neon-blue);">üíé <span id="crys">0</span></div>
    </div>

    <div class="game-nav">
        <button class="nav-btn btn-home" onclick="goHome()">üè† –ì–õ–ê–í–ù–ê–Ø</button>
        <button id="nav-wheel" class="nav-btn active" onclick="switchGame('wheel')">LUCKY WHEEL</button>
        <button id="nav-crash" class="nav-btn" onclick="switchGame('crash')">CRASH üöÄ</button>
    </div>

    <div id="section-wheel" class="game-section active">
        <div class="mode-selector">
            <div id="tab-norm" class="mode-tab active-norm" onclick="setWheelMode('norm')">GOLD WHEEL</div>
            <div id="tab-vip" class="mode-tab" onclick="setWheelMode('vip')">VIP CRYSTAL</div>
        </div>
        <div class="wheel-container">
            <div id="wheel-glow" class="wheel-outer norm-glow"></div>
            <div class="pointer"></div>
            <div class="wheel" id="wheel"></div>
        </div>
        <button id="spinBtn" class="main-btn btn-spin" onclick="spin()">–ö–†–£–¢–ò–¢–¨</button>
        <div id="dailyTimer" class="daily-timer"></div>
    </div>

    <div id="section-crash" class="game-section">
        <div class="crash-area" id="canvas">
            <div id="rocket">üöÄ</div>
            <div id="multText">1.00x</div>
        </div>
        <input type="number" id="betAmount" style="background:#000; border:2px solid #222; color:#fff; padding:15px; width:280px; border-radius:15px; text-align:center; font-size:20px; margin-bottom:15px;" value="1000">
        <button id="crashBtn" class="main-btn btn-crash" onclick="crashAction()">–ü–û–°–¢–ê–í–ò–¢–¨</button>
    </div>

<script>
    let state = {
        coins: +localStorage.getItem("coins") || 100000,
        crys: +localStorage.getItem("crystals") || 10,
        lastFreeSpin: +localStorage.getItem("lastFreeSpin") || 0
    };

    let isSpinning = false, isFlying = false, wheelMode = 'norm', currentMult = 1.0, crashInt;

    const prizes = {
        norm: [
            { n: "50k ü™ô", v: 50000, t: 'c' }, { n: "500k ü™ô", v: 500000, t: 'c' },
            { n: "5k ü™ô", v: 5000, t: 'c' }, { n: "1M ü™ô", v: 1000000, t: 'c' },
            { n: "10k ü™ô", v: 10000, t: 'c' }, { n: "100k ü™ô", v: 100000, t: 'c' },
            { n: "25k ü™ô", v: 25000, t: 'c' }, { n: "250k ü™ô", v: 250000, t: 'c' }
        ],
        vip: [
            { n: "50 üíé", v: 50, t: 'd' }, { n: "1 üíé", v: 1, t: 'd' },
            { n: "5 üíé", v: 5, t: 'd' }, { n: "2k üíé", v: 2000, t: 'd' },
            { n: "500 üíé", v: 500, t: 'd' }, { n: "25 üíé", v: 25, t: 'd' },
            { n: "1k üíé", v: 1000, t: 'd' }, { n: "100 üíé", v: 100, t: 'd' }
        ]
    };

    function isDailyAvailable() {
        const now = Date.now();
        return now - state.lastFreeSpin >= 24 * 60 * 60 * 1000;
    }

    function setWheelMode(m) {
        if(isSpinning) return;
        wheelMode = m;
        updateWheelUI();
        renderWheel();
    }

    function updateWheelUI() {
        const glow = document.getElementById('wheel-glow');
        const btn = document.getElementById('spinBtn');
        const timer = document.getElementById('dailyTimer');
        
        document.getElementById('tab-norm').className = wheelMode==='norm' ? 'mode-tab active-norm' : 'mode-tab';
        document.getElementById('tab-vip').className = wheelMode==='vip' ? 'mode-tab active-vip' : 'mode-tab';
        glow.className = wheelMode==='norm' ? 'wheel-outer norm-glow' : 'wheel-outer vip-glow';

        if(wheelMode === 'norm') {
            if(isDailyAvailable()) {
                btn.textContent = "–ë–ï–°–ü–õ–ê–¢–ù–´–ô –°–ü–ò–ù!";
                btn.className = "main-btn btn-free";
                timer.textContent = "–í–∞—à –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å –≥–æ—Ç–æ–≤!";
            } else {
                btn.textContent = "–ö–†–£–¢–ò–¢–¨ (50k ü™ô)";
                btn.className = "main-btn btn-spin";
                const next = state.lastFreeSpin + (24*60*60*1000);
                timer.textContent = "–°–ª–µ–¥. –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —á–µ—Ä–µ–∑: " + new Date(next).toLocaleTimeString();
            }
        } else {
            btn.textContent = "–ö–†–£–¢–ò–¢–¨ (100 üíé)";
            btn.className = "main-btn btn-vip";
            timer.textContent = "";
        }
    }

    function renderWheel() {
        const w = document.getElementById("wheel");
        w.innerHTML = "";
        const config = wheelMode==='norm' ? { c1:'#0a0a0a', c2:'#1de9b6' } : { c1:'#0a0a0a', c2:'#d500f9' };
        
        prizes[wheelMode].forEach((p, i) => {
            const s = document.createElement("div");
            s.className = "wheel-segment";
            s.style.transform = `rotate(${i*45}deg) skewY(-45deg)`; // –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–µ–∫—Ç–æ—Ä–æ–≤
            s.style.background = i%2===0 ? config.c1 : config.c2;
            
            const txt = document.createElement("div");
            txt.style.transform = "skewY(45deg) rotate(22.5deg)";
            txt.style.position = "absolute";
            txt.style.left = "40px";
            txt.style.top = "20px";
            txt.textContent = p.n;
            
            s.appendChild(txt);
            w.appendChild(s);
        });
    }

    function spin() {
        if(isSpinning) return;

        let cost = 0;
        if(wheelMode === 'norm') {
            if(!isDailyAvailable()) {
                if(state.coins < 50000) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–æ–ª–æ—Ç–∞!");
                cost = 50000;
            }
        } else {
            if(state.crys < 100) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤!");
            cost = 100;
        }

        // –°–Ω–∏–º–∞–µ–º –æ–ø–ª–∞—Ç—É
        if(wheelMode === 'norm') {
            if(cost > 0) state.coins -= cost;
            else {
                state.lastFreeSpin = Date.now();
                localStorage.setItem("lastFreeSpin", state.lastFreeSpin);
            }
        } else {
            state.crys -= cost;
        }

        isSpinning = true;
        saveState();
        updateWheelUI();

        const w = document.getElementById("wheel");
        
        // –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏: –î–∂–µ–∫–ø–æ—Ç (—Å–µ–∫—Ç–æ—Ä 3) –∏–º–µ–µ—Ç –Ω–∏–∑–∫–∏–π —à–∞–Ω—Å
        let rand = Math.random() * 100;
        let secIndex;
        if(rand < 3) secIndex = 3; // 3% —à–∞–Ω—Å –Ω–∞ 1M/100k
        else if(rand < 15) secIndex = 1; // 12% –Ω–∞ –≤—Ç–æ—Ä–æ–π –ø—Ä–∏–∑
        else secIndex = [0,2,4,5,6,7][Math.floor(Math.random()*6)];

        // –†–ê–°–ß–ï–¢ –£–ì–õ–ê: 
        // 1 —Å–µ–∫—Ç–æ—Ä = 45 –≥—Ä–∞–¥—É—Å–æ–≤. 
        // –ß—Ç–æ–±—ã —Å—Ç—Ä–µ–ª–∫–∞ (—Å–≤–µ—Ä—Ö—É, 0 –≥—Ä–∞–¥—É—Å–æ–≤) –ø–æ–ø–∞–ª–∞ –≤ —Å–µ–∫—Ç–æ—Ä i, 
        // –Ω—É–∂–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–µ—Å–æ –Ω–∞ i * 45 –≥—Ä–∞–¥—É—Å–æ–≤ –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏.
        // –î–æ–±–∞–≤–ª—è–µ–º 22.5 –≥—Ä–∞–¥—É—Å–∞, —á—Ç–æ–±—ã —Å—Ç—Ä–µ–ª–∫–∞ –±—ã–ª–∞ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ —Å–µ–∫—Ç–æ—Ä–∞.
        const targetRotation = (secIndex * 45); 
        const totalRot = 3600 + targetRotation; // 10 –ø–æ–ª–Ω—ã—Ö –∫—Ä—É–≥–æ–≤ + —É–≥–æ–ª

        w.style.transition = "transform 6s cubic-bezier(0.15, 0, 0.1, 1)";
        w.style.transform = `rotate(-${totalRot}deg)`;

        setTimeout(() => {
            isSpinning = false;
            const prize = prizes[wheelMode][secIndex];
            if(prize.t === 'c') state.coins += prize.v; else state.crys += prize.v;
            
            alert(`–í–´–ò–ì–†–´–®: ${prize.n}`);
            saveState();
            updateWheelUI();
            
            // –°–±—Ä–æ—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –±–µ–∑ –ø—Ä—ã–∂–∫–∞
            w.style.transition = "none";
            w.style.transform = `rotate(-${targetRotation}deg)`;
        }, 6100);
    }

    function saveState() {
        localStorage.setItem("coins", state.coins);
        localStorage.setItem("crystals", state.crys);
        document.getElementById("coins").textContent = Math.floor(state.coins).toLocaleString();
        document.getElementById("crys").textContent = state.crys.toLocaleString();
    }

    // –õ–æ–≥–∏–∫–∞ Crash (–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    function crashAction() {
        const btn = document.getElementById("crashBtn"), r = document.getElementById("rocket"), d = document.getElementById("multText");
        if(!isFlying) {
            const bet = +document.getElementById("betAmount").value;
            if(bet > state.coins || bet <= 0) return alert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç!");
            state.coins -= bet; saveState();
            isFlying = true; currentMult = 1.0;
            btn.textContent = "–ó–ê–ë–†–ê–¢–¨"; r.style.display = "block";
            let boom = 1 + (Math.random() * Math.random() * 10);
            crashInt = setInterval(() => {
                currentMult += 0.01 + (currentMult/150);
                d.textContent = currentMult.toFixed(2) + "x";
                if(currentMult >= boom) {
                    clearInterval(crashInt); isFlying = false;
                    d.textContent = "BOOM!";
                    setTimeout(() => { r.style.display="none"; btn.textContent="–ü–û–°–¢–ê–í–ò–¢–¨"; }, 1500);
                }
            }, 80);
        } else {
            clearInterval(crashInt); isFlying = false;
            state.coins += Math.floor(+document.getElementById("betAmount").value * currentMult);
            saveState();
            btn.textContent = "–ü–û–°–¢–ê–í–ò–¢–¨"; r.style.display="none";
        }
    }

    function switchGame(game) {
        if(isSpinning || isFlying) return;
        document.querySelectorAll('.game-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        if(game === 'wheel') {
            document.getElementById('section-wheel').classList.add('active');
            document.getElementById('nav-wheel').classList.add('active');
        } else {
            document.getElementById('section-crash').classList.add('active');
            document.getElementById('nav-crash').classList.add('active');
        }
    }

    function goHome() { if(!isSpinning && !isFlying) window.location.href = "index.html"; }

    updateWheelUI();
    renderWheel();
    saveState();
</script>
</body>
</html>
