<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEON CASINO ULTIMATE</title>
    <style>
        :root {
            --gold: #ffd700;
            --neon-blue: #00d2ff;
            --neon-purple: #9d00ff;
            --neon-red: #ff4d4d;
            --neon-green: #39ff14;
            --neon-pink: #ff00ff;
            --bg: #05050a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: var(--bg); font-family: 'Segoe UI', Roboto, sans-serif; color: white;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
            overflow-x: hidden; padding-bottom: 50px;
        }

        /* --- –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ --- */
        .balance-top { 
            display: flex; gap: 15px; z-index: 100; background: rgba(0,0,0,0.9); 
            padding: 15px; width: 100%; justify-content: center; 
            border-bottom: 2px solid #1a1a1a; position: sticky; top: 0;
        }
        .bal { 
            background: #000; padding: 10px 18px; border-radius: 14px; 
            border: 1px solid var(--gold); font-weight: 900; min-width: 120px; 
            text-align: center; font-size: 14px; box-shadow: inset 0 0 10px rgba(255,215,0,0.1);
        }

        /* --- –ù–ê–í–ò–ì–ê–¶–ò–Ø --- */
        .game-nav { 
            display: flex; gap: 6px; margin: 20px 0; background: #111; 
            padding: 6px; border-radius: 18px; border: 1px solid #333; 
            width: 95%; max-width: 500px; overflow-x: auto;
        }
        .nav-btn { 
            padding: 12px 15px; border-radius: 12px; border: none; 
            background: transparent; color: #666; font-weight: 900; 
            cursor: pointer; transition: 0.3s; font-size: 10px; 
            flex: 1; text-transform: uppercase; white-space: nowrap;
        }
        .nav-btn.active { background: var(--neon-blue); color: #000; box-shadow: 0 0 15px var(--neon-blue); }
        .btn-dev { border: 1px dashed #444; }

        /* --- –ö–û–ù–¢–ï–ù–¢ --- */
        .game-section { display: none; flex-direction: column; align-items: center; width: 100%; animation: fadeIn 0.4s ease; }
        .game-section.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- –ö–û–õ–ï–°–û (SVG) --- */
        .mode-selector { display: flex; gap: 15px; margin-bottom: 20px; }
        .mode-tab { 
            padding: 12px 25px; border-radius: 30px; border: 2px solid #222; 
            background: #000; color: #444; cursor: pointer; font-size: 12px; 
            font-weight: 900; text-transform: uppercase; transition: 0.3s;
        }
        .mode-tab.active-norm { border-color: var(--neon-green); color: var(--neon-green); box-shadow: 0 0 15px var(--neon-green); }
        .mode-tab.active-vip { border-color: var(--neon-pink); color: var(--neon-pink); box-shadow: 0 0 15px var(--neon-pink); }

        .wheel-box { position: relative; width: 320px; height: 320px; margin-bottom: 25px; }
        #wheel-svg { width: 100%; height: 100%; transform: rotate(-90deg); transition: transform 6s cubic-bezier(0.15, 0, 0.1, 1); }
        
        .pointer { 
            position: absolute; top: -12px; left: 50%; transform: translateX(-50%); 
            width: 0; height: 0; border-left: 16px solid transparent; border-right: 16px solid transparent; 
            border-top: 38px solid #fff; z-index: 20; filter: drop-shadow(0 0 10px #fff);
        }

        .wheel-border {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border-radius: 50%; border: 10px solid #111; pointer-events: none; z-index: 10;
        }
        .norm-glow { border-color: var(--neon-green); box-shadow: 0 0 25px rgba(57, 255, 20, 0.3); }
        .vip-glow { border-color: var(--neon-pink); box-shadow: 0 0 25px rgba(255, 0, 255, 0.3); }

        /* --- –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–Ø --- */
        .main-btn { 
            width: 280px; padding: 20px; border-radius: 16px; border: none; 
            font-weight: 900; font-size: 16px; cursor: pointer; transition: 0.3s; 
            text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-spin { background: var(--neon-green); color: #000; box-shadow: 0 0 20px var(--neon-green); }
        .btn-free { background: var(--gold); color: #000; box-shadow: 0 0 25px var(--gold); animation: pulse 1s infinite; }
        .btn-vip { background: var(--neon-pink); color: #fff; box-shadow: 0 0 25px var(--neon-pink); }
        
        .timer-text { margin-top: 12px; font-size: 12px; color: #666; font-style: italic; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.04); } 100% { transform: scale(1); } }

        /* --- –ö–†–ê–® –ò –†–ê–ó–†–ê–ë–û–¢–ö–ê --- */
        .dev-card {
            background: #111; border: 2px dashed #333; padding: 40px 20px;
            border-radius: 20px; text-align: center; width: 90%; max-width: 400px;
        }
        .dev-card h2 { color: var(--neon-purple); margin-bottom: 10px; text-shadow: 0 0 10px var(--neon-purple); }
        .dev-card p { color: #777; font-size: 14px; }
    </style>
</head>
<body>

    <div class="balance-top">
        <div class="bal" style="border-color: var(--gold);">ü™ô <span id="coins">0</span></div>
        <div class="bal" style="border-color: var(--neon-blue);">üíé <span id="crys">0</span></div>
    </div>

    <div class="game-nav">
        <button class="nav-btn" onclick="location.href='index.html'">üè† –ì–õ–ê–í–ù–ê–Ø</button>
        <button id="nav-wheel" class="nav-btn active" onclick="switchGame('wheel')">–ö–û–õ–ï–°–û</button>
        <button id="nav-crash" class="nav-btn" onclick="switchGame('crash')">CRASH üöÄ</button>
        <button id="nav-roulette" class="nav-btn btn-dev" onclick="switchGame('roulette')">–†–£–õ–ï–¢–ö–ê üé°</button>
    </div>

    <div id="section-wheel" class="game-section active">
        <div class="mode-selector">
            <div id="tab-norm" class="mode-tab active-norm" onclick="setWheelMode('norm')">GOLD</div>
            <div id="tab-vip" class="mode-tab" onclick="setWheelMode('vip')">CRYSTAL VIP</div>
        </div>
        
        <div class="wheel-box">
            <div class="pointer"></div>
            <div id="wheel-border" class="wheel-border norm-glow"></div>
            <svg id="wheel-svg" viewBox="0 0 100 100"></svg>
        </div>

        <button id="spinBtn" class="main-btn btn-spin" onclick="spin()">–ö–†–£–¢–ò–¢–¨</button>
        <div id="dailyTimer" class="timer-text"></div>
    </div>

    <div id="section-crash" class="game-section">
        <div class="dev-card">
            <h2>CRASH üöÄ</h2>
            <p>–î–≤–∏–≥–∞—Ç–µ–ª—å —Ä–∞–∫–µ—Ç—ã –ø—Ä–æ–≥—Ä–µ–≤–∞–µ—Ç—Å—è...<br>–í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.</p>
            <br>
            <button class="main-btn btn-spin" style="background: var(--neon-blue); width: 200px;" onclick="alert('–°–∫–æ—Ä–æ!')">–ò–ì–†–ê–¢–¨</button>
        </div>
    </div>

    <div id="section-roulette" class="game-section">
        <div class="dev-card">
            <h1 style="font-size: 50px; margin-bottom: 20px;">üõ†Ô∏è</h1>
            <h2>–í –†–ê–ó–†–ê–ë–û–¢–ö–ï</h2>
            <p>–ú—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —à–∞—Ä–∏–∫ –∏ —Å—Ç–æ–ª –¥–ª—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä—É–ª–µ—Ç–∫–∏. –ó–∞—Ö–æ–¥–∏—Ç–µ –ø–æ–∑–∂–µ!</p>
        </div>
    </div>

<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    let state = {
        coins: +localStorage.getItem("coins") || 100000,
        crys: +localStorage.getItem("crystals") || 10,
        lastFreeSpin: +localStorage.getItem("lastFreeSpin") || 0
    };

    let isSpinning = false, wheelMode = 'norm';

    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–∑–æ–≤
    const prizes = {
        norm: [
            { n: "50k ü™ô", v: 50000, t: 'c', color: '#0a0a0a', text: '#fff' },
            { n: "500k ü™ô", v: 500000, t: 'c', color: '#1de9b6', text: '#000' },
            { n: "5k ü™ô", v: 5000, t: 'c', color: '#0a0a0a', text: '#fff' },
            { n: "1M ü™ô", v: 1000000, t: 'c', color: '#ffd700', text: '#000' },
            { n: "10k ü™ô", v: 10000, t: 'c', color: '#0a0a0a', text: '#fff' },
            { n: "100k ü™ô", v: 100000, t: 'c', color: '#1de9b6', text: '#000' },
            { n: "25k ü™ô", v: 25000, t: 'c', color: '#0a0a0a', text: '#fff' },
            { n: "250k ü™ô", v: 250000, t: 'c', color: '#1de9b6', text: '#000' }
        ],
        vip: [
            { n: "50 üíé", v: 50, t: 'd', color: '#0a0a0a', text: '#fff' },
            { n: "10k üíé", v: 10000, t: 'd', color: '#d500f9', text: '#fff' },
            { n: "5 üíé", v: 5, t: 'd', color: '#0a0a0a', text: '#fff' },
            { n: "100k üíé", v: 100000, t: 'd', color: '#ff00ff', text: '#fff' },
            { n: "500 üíé", v: 500, t: 'd', color: '#0a0a0a', text: '#fff' },
            { n: "25 üíé", v: 25, t: 'd', color: '#d500f9', text: '#fff' },
            { n: "50k üíé", v: 50000, t: 'd', color: '#0a0a0a', text: '#fff' },
            { n: "100 üíé", v: 100, t: 'd', color: '#d500f9', text: '#fff' }
        ]
    };

    function isDailyAvailable() {
        return Date.now() - state.lastFreeSpin >= 24 * 60 * 60 * 1000;
    }

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–æ–ª–µ—Å–∞ —á–µ—Ä–µ–∑ SVG
    function renderWheel() {
        const svg = document.getElementById("wheel-svg");
        svg.innerHTML = "";
        const data = prizes[wheelMode];
        const angleStep = 360 / data.length;

        data.forEach((p, i) => {
            const startAngle = i * angleStep;
            const endAngle = (i + 1) * angleStep;
            
            const x1 = 50 + 50 * Math.cos(Math.PI * startAngle / 180);
            const y1 = 50 + 50 * Math.sin(Math.PI * startAngle / 180);
            const x2 = 50 + 50 * Math.cos(Math.PI * endAngle / 180);
            const y2 = 50 + 50 * Math.sin(Math.PI * endAngle / 180);

            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.setAttribute("d", `M 50 50 L ${x1} ${y1} A 50 50 0 0 1 ${x2} ${y2} Z`);
            path.setAttribute("fill", p.color);
            path.setAttribute("stroke", "#222");
            path.setAttribute("stroke-width", "0.3");
            svg.appendChild(path);

            // –¢–µ–∫—Å—Ç –ø—Ä–∏–∑–∞
            const textAngle = startAngle + angleStep / 2;
            const textX = 50 + 33 * Math.cos(Math.PI * textAngle / 180);
            const textY = 50 + 33 * Math.sin(Math.PI * textAngle / 180);

            const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
            g.setAttribute("transform", `translate(${textX}, ${textY}) rotate(${textAngle})`);

            const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
            text.setAttribute("fill", p.text);
            text.setAttribute("font-size", "3.8");
            text.setAttribute("font-weight", "900");
            text.setAttribute("text-anchor", "middle");
            text.setAttribute("dominant-baseline", "middle");
            text.textContent = p.n.split(' ')[0];
            
            g.appendChild(text);
            svg.appendChild(g);
        });
    }

    function setWheelMode(m) {
        if(isSpinning) return;
        wheelMode = m;
        document.getElementById('tab-norm').className = m==='norm' ? 'mode-tab active-norm' : 'mode-tab';
        document.getElementById('tab-vip').className = m==='vip' ? 'mode-tab active-vip' : 'mode-tab';
        document.getElementById('wheel-border').className = m==='norm' ? 'wheel-border norm-glow' : 'wheel-border vip-glow';
        updateUI();
        renderWheel();
    }

    function updateUI() {
        const btn = document.getElementById('spinBtn');
        const timer = document.getElementById('dailyTimer');
        
        if(wheelMode === 'norm') {
            if(isDailyAvailable()) {
                btn.textContent = "üéÅ –ë–ï–°–ü–õ–ê–¢–ù–û";
                btn.className = "main-btn btn-free";
                timer.textContent = "–í–∞—à –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–ø–∏–Ω –≥–æ—Ç–æ–≤!";
            } else {
                btn.textContent = "–ö–†–£–¢–ò–¢–¨ (50k ü™ô)";
                btn.className = "main-btn btn-spin";
                const next = state.lastFreeSpin + 86400000;
                timer.textContent = "–°–ª–µ–¥. –±–æ–Ω—É—Å: " + new Date(next).toLocaleTimeString();
            }
        } else {
            btn.textContent = "–ö–†–£–¢–ò–¢–¨ (100 üíé)";
            btn.className = "main-btn btn-vip";
            timer.textContent = "";
        }
        document.getElementById("coins").textContent = Math.floor(state.coins).toLocaleString();
        document.getElementById("crys").textContent = state.crys.toLocaleString();
    }

    function spin() {
        if(isSpinning) return;

        let cost = 0;
        if(wheelMode === 'norm') {
            if(!isDailyAvailable()) {
                if(state.coins < 50000) return alert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç!");
                cost = 50000;
            }
        } else {
            if(state.crys < 100) return alert("–ú–∞–ª–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤!");
            cost = 100;
        }

        if(cost > 0) {
            wheelMode === 'norm' ? state.coins -= cost : state.crys -= cost;
        } else {
            state.lastFreeSpin = Date.now();
            localStorage.setItem("lastFreeSpin", state.lastFreeSpin);
        }

        isSpinning = true;
        saveState();
        updateUI();

        const svg = document.getElementById("wheel-svg");
        const secIndex = getWinIndex();
        
        // –£–≥–æ–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (SVG —Ä–∏—Å—É–µ—Ç –æ—Ç –≤–æ—Å—Ç–æ–∫–∞, –ø–æ—ç—Ç–æ–º—É -90 –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–µ–≤–µ—Ä–∞)
        const stopAngle = (secIndex * 45);
        const totalRot = 3600 + stopAngle;

        svg.style.transition = "transform 6s cubic-bezier(0.15, 0, 0.1, 1)";
        svg.style.transform = `rotate(${totalRot - 90}deg)`;

        setTimeout(() => {
            isSpinning = false;
            const prize = prizes[wheelMode][secIndex];
            prize.t === 'c' ? state.coins += prize.v : state.crys += prize.v;
            
            alert("ü§ë –í–´–ò–ì–†–´–®: " + prize.n);
            saveState();
            updateUI();
            
            svg.style.transition = "none";
            svg.style.transform = `rotate(${stopAngle - 90}deg)`;
        }, 6100);
    }

    function getWinIndex() {
        let r = Math.random() * 100;
        if(r < 2.5) return 3; // 1M/100k
        if(r < 12) return 1; 
        return [0, 2, 4, 5, 6, 7][Math.floor(Math.random() * 6)];
    }

    function saveState() {
        localStorage.setItem("coins", state.coins);
        localStorage.setItem("crystals", state.crys);
    }

    function switchGame(g) {
        if(isSpinning) return;
        document.querySelectorAll('.game-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        
        document.getElementById(`section-${g}`).classList.add('active');
        document.getElementById(`nav-${g}`).classList.add('active');
    }

    renderWheel();
    updateUI();
</script>
</body>
</html>
