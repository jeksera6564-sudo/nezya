<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ü–µ—Ä—Å–æ–Ω–∞–∂–∏ ‚Äî Nezya Clicker</title>
    <style>
        :root {
            --common: #4ade80;
            --rare: #00d2ff;
            --epic: #a020f0;
            --legendary: #ff8c00;
            --mythic: #ff4d4d;
            --gold: #ffd700;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: radial-gradient(circle at center, #1a1a2e 0%, #020205 100%);
            color: white; font-family: 'Segoe UI', sans-serif; padding: 20px;
            overflow-x: hidden;
        }

        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: -1; }
        
        h1 { 
            text-align: center; margin: 20px 0 40px; text-transform: uppercase; 
            letter-spacing: 5px; color: var(--gold); 
            text-shadow: 0 0 20px rgba(255,214,0,0.4); 
        }

        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)); 
            gap: 25px; max-width: 1000px; margin: 0 auto; 
        }

        /* –ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ */
        .card { 
            background: rgba(255,255,255,0.03); 
            padding: 25px 20px; border-radius: 30px; 
            text-align: center; border: 2px solid rgba(255,255,255,0.1); 
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            backdrop-filter: blur(15px);
            display: flex; flex-direction: column; align-items: center;
            position: relative; overflow: hidden;
        }

        /* –†–µ–¥–∫–æ—Å—Ç–∏ */
        .rare-common { border-color: var(--common); box-shadow: inset 0 0 15px rgba(74, 222, 128, 0.1); }
        .rare-rare { border-color: var(--rare); box-shadow: inset 0 0 15px rgba(0, 210, 255, 0.1); }
        .rare-epic { border-color: var(--epic); box-shadow: inset 0 0 15px rgba(160, 32, 240, 0.1); }
        .rare-legendary { border-color: var(--legendary); box-shadow: inset 0 0 20px rgba(255, 140, 0, 0.2); }
        .rare-mythic { border-color: var(--mythic); box-shadow: inset 0 0 20px rgba(255, 77, 77, 0.2); }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞—Ä–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ */
        .card img { 
            width: 130px; height: 130px; object-fit: contain; 
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.8)); 
            margin-bottom: 20px;
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥–µ—Ä–æ—è */
        .card.active { 
            transform: scale(1.05);
            background: rgba(255, 215, 0, 0.08);
            border-color: var(--gold);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            z-index: 10;
        }

        .card.active::before {
            content: "–í–´–ë–†–ê–ù";
            position: absolute; top: 10px; right: 10px;
            font-size: 8px; font-weight: 900; background: var(--gold);
            color: #000; padding: 3px 8px; border-radius: 10px;
        }

        .card h3 { font-size: 20px; margin-bottom: 8px; font-weight: 900; letter-spacing: 1px; }
        .card .stats { font-size: 13px; color: #4ade80; margin-bottom: 15px; font-weight: bold; }

        /* –ö–Ω–æ–ø–∫–∏ –≤ —Å—Ç–∏–ª–µ —Ä–µ–¥–∫–æ—Å—Ç–∏ */
        button { 
            width: 100%; padding: 14px; border-radius: 18px; border: none; 
            background: #fff; color: #000; font-weight: 900; 
            cursor: pointer; transition: 0.3s; text-transform: uppercase; font-size: 11px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .btn-common { background: var(--common); }
        .btn-rare { background: var(--rare); }
        .btn-epic { background: var(--epic); color: #fff; }
        .btn-legendary { background: var(--legendary); color: #fff; }
        .btn-mythic { background: var(--mythic); color: #fff; animation: mythicPulse 2s infinite; }

        @keyframes mythicPulse {
            0%, 100% { box-shadow: 0 0 5px var(--mythic); }
            50% { box-shadow: 0 0 20px var(--mythic); }
        }

        button:active { transform: scale(0.92); }
        button:disabled { background: #1a1a1a !important; color: #444 !important; cursor: default; box-shadow: none; }

        .back-btn { 
            display: block; text-align: center; margin: 50px auto; 
            color: #000; text-decoration: none; font-weight: 900; 
            background: var(--gold); width: fit-content; padding: 18px 60px; 
            border-radius: 40px; box-shadow: 0 10px 25px rgba(255,215,0,0.3);
            text-transform: uppercase; letter-spacing: 2px; transition: 0.3s;
        }
        .back-btn:hover { transform: scale(1.05); filter: brightness(1.1); }
    </style>
</head>
<body>
    <div class="overlay"></div>
    <h1>–í–∞—à–∏ –ì–µ—Ä–æ–∏</h1>
    
    <div class="grid" id="heroList"></div>

    <a href="index.html" class="back-btn">‚¨Ö –í –ë–û–ô</a>

    <script>
        const heroes = [
            { id: "default", name: "–ù–æ–≤–∏—á–æ–∫", price: 0, pwr: 1, cry: 0, rare: "rare-common", btn: "btn-common", img: "assets/character_default.png" },
            { id: "clicker", name: "–ü—Ä–æ-–ö–ª–∏–∫–µ—Ä", price: 5000, pwr: 5, cry: 0, rare: "rare-rare", btn: "btn-rare", img: "assets/character_clicker.png" },
            { id: "business", name: "–ë–∏–∑–Ω–µ—Å–º–µ–Ω", price: 25000, pwr: 25, cry: 1, rare: "rare-epic", btn: "btn-epic", img: "assets/character_business.png" },
            { id: "magnate", name: "–ú–∞–≥–Ω–∞—Ç", price: 150000, pwr: 120, cry: 3, rare: "rare-legendary", btn: "btn-legendary", img: "assets/character_magnate.png" },
            { id: "legendary", name: "–ë–µ—Å—Å–º–µ—Ä—Ç–Ω—ã–π", price: 750000, pwr: 600, cry: 15, rare: "rare-mythic", btn: "btn-mythic", img: "assets/character_legendary.png" }
        ];

        let state = {
            active: localStorage.getItem("activeCharacter") || "default",
            owned: JSON.parse(localStorage.getItem("characters")) || { default: true },
            coins: +localStorage.getItem("coins") || 0
        };

        function render() {
            const container = document.getElementById("heroList");
            container.innerHTML = "";

            heroes.forEach(h => {
                const isOwned = state.owned[h.id];
                const isActive = state.active === h.id;
                
                container.innerHTML += `
                    <div class="card ${h.rare} ${isActive ? 'active' : ''}">
                        <img src="${h.img}" style="animation-delay: ${Math.random()}s">
                        <h3>${h.name}</h3>
                        <div class="stats">üî• –£–†–û–ù: +${h.pwr} ${h.cry > 0 ? '<br>üíé –®–ê–ù–°: +' + h.cry + '%' : ''}</div>
                        <p style="font-size: 14px; margin-bottom: 15px; color: ${isOwned ? '#4ade80' : 'var(--gold)'}; font-weight: 900;">
                            ${isOwned ? '–°–û–ë–†–ê–ù' : h.price.toLocaleString() + ' ü™ô'}
                        </p>
                        <button class="${h.btn}" ${isActive ? 'disabled' : ''} onclick="handleAction('${h.id}', ${h.price})">
                            ${isActive ? '–¢–ï–ö–£–©–ò–ô' : (isOwned ? '–í–´–ë–†–ê–¢–¨' : '–ö–£–ü–ò–¢–¨')}
                        </button>
                    </div>`;
            });
        }

        window.handleAction = (id, price) => {
            if (state.owned[id]) {
                state.active = id;
            } else if (state.coins >= price) {
                state.coins -= price;
                state.owned[id] = true;
                state.active = id;
                if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
            } else {
                alert("–ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –∑–æ–ª–æ—Ç–∞! ü™ô");
                return;
            }

            localStorage.setItem("coins", state.coins);
            localStorage.setItem("characters", JSON.stringify(state.owned));
            localStorage.setItem("activeCharacter", state.active);
            render();
        };

        render();
    </script>
</body>
</html>
