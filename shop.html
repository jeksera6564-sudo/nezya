<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ú–∞–≥–∞–∑–∏–Ω ‚Äî Nezya</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  color: white;
  min-height: 100vh;
  background:
    linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.85)),
    url("assets/shop-bg.jpg") center / cover no-repeat fixed;
}

/* –≤–µ—Ä—Ö */
.top {
  display: flex;
  justify-content: center;
  gap: 14px;
  padding: 14px;
}

.balance {
  background: rgba(0,0,0,0.65);
  padding: 10px 16px;
  border-radius: 20px;
  font-weight: 900;
  font-size: 18px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* –∏–∫–æ–Ω–∫–∏ –≤–∞–ª—é—Ç */
.coin {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff9c4, #fbc02d);
}

.crystal {
  width: 18px;
  height: 18px;
  clip-path: polygon(50% 0%, 90% 25%, 70% 100%, 30% 100%, 10% 25%);
  background: linear-gradient(135deg, #7dd3fc, #38bdf8);
}

/* –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ */
.back-wrap {
  text-align: center;
  margin-bottom: 8px;
}

.back {
  background: gold;
  padding: 8px 22px;
  border-radius: 22px;
  color: black;
  font-weight: bold;
  text-decoration: none;
}

/* –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
h1 {
  text-align: center;
  margin: 10px 0;
}

/* –º–∞–≥–∞–∑–∏–Ω */
.shop {
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 16px;
  padding-bottom: 80px;
}

.item {
  background: rgba(255,255,255,0.14);
  border-radius: 18px;
  padding: 16px;
  text-align: center;
}

.item button {
  margin-top: 10px;
  padding: 8px 18px;
  border-radius: 20px;
  border: none;
  background: gold;
  font-weight: bold;
  cursor: pointer;
}

.item button:disabled {
  background: #666;
  color: #aaa;
}
</style>
</head>

<body>

<!-- –í–ï–†–•: –í–ê–õ–Æ–¢–´ -->
<div class="top">
  <div class="balance">
    <div class="coin"></div>
    <span id="coins">0</span>
  </div>

  <div class="balance">
    <div class="crystal"></div>
    <span id="crystals">0</span>
  </div>
</div>

<div class="back-wrap">
  <a href="index.html" class="back">‚¨Ö –ù–∞–∑–∞–¥</a>
</div>

<h1>üè¶ –ú–∞–≥–∞–∑–∏–Ω</h1>

<div class="shop" id="shop"></div>

<script>
let coins = Number(localStorage.getItem("coins")) || 0;
let crystals = Number(localStorage.getItem("crystals")) || 0;

document.getElementById("coins").textContent = coins;
document.getElementById("crystals").textContent = crystals;

const shopEl = document.getElementById("shop");

/* –ø—Ä–∏–º–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤ */
const items = [
  { name: "üçã –õ–∏–º–æ–Ω–∞–¥", price: 300, currency: "coins" },
  { name: "üè™ –ú–∞–≥–∞–∑–∏–Ω", price: 3000, currency: "coins" },
  { name: "üíé –ö—Ä–∏—Å—Ç–∞–ª—å–Ω—ã–π –±—É—Å—Ç–µ—Ä", price: 5, currency: "crystals" }
];

function render() {
  shopEl.innerHTML = "";

  items.forEach(item => {
    const canBuy =
      item.currency === "coins"
        ? coins >= item.price
        : crystals >= item.price;

    const el = document.createElement("div");
    el.className = "item";

    el.innerHTML = `
      <h3>${item.name}</h3>
      <p><b>${item.price} ${item.currency === "coins" ? "ü™ô" : "üíé"}</b></p>
      <button ${canBuy ? "" : "disabled"}>–ö—É–ø–∏—Ç—å</button>
    `;

    el.querySelector("button").onclick = () => buy(item);
    shopEl.appendChild(el);
  });
}

function buy(item) {
  if (item.currency === "coins" && coins >= item.price) {
    coins -= item.price;
    localStorage.setItem("coins", coins);
    document.getElementById("coins").textContent = coins;
  }

  if (item.currency === "crystals" && crystals >= item.price) {
    crystals -= item.price;
    localStorage.setItem("crystals", crystals);
    document.getElementById("crystals").textContent = crystals;
  }

  render();
}

render();
</script>

</body>
</html>
